50
(0.5, 0.29, 44.47718926541818, (7, 14), 'fitted-scaled', 'econ-scaled', 'oct21-scaled', 0.1, 18599515.0, 0.05, 2, 'full_open')
The value of T is: 104
90
Total Reward at the start of the inner iterations: 41821405.61505605
Using license file /share/software/user/restricted/gurobi/9.0.3_py36/licenses/gurobi.lic
Set parameter TokenServer to value license4.stanford.edu
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746108 NZs
  Matrix coefficient range    : [ 1.00184e-13, 1 ]
  Objective coefficient range : [ 1.03946e-18, 2.3828e+07 ]
  Variable bound range        : [ 1, 7.16577 ]
  RHS coefficient range       : [ 1.8807e-07, 44.4772 ]
Objective value for Line heur k = 0: -7833632.459427368
90
Actual reward of current solution: 43698718.20617869
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746112 NZs
  Matrix coefficient range    : [ 1.33136e-13, 1 ]
  Objective coefficient range : [ 1.64805e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 9.38963 ]
  RHS coefficient range       : [ 1.25168e-06, 44.4772 ]
Objective value for Line heur k = 0: -1250250.7629984978
90
Actual reward of current solution: 44997642.00964624
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746108 NZs
  Matrix coefficient range    : [ 1.02599e-13, 1 ]
  Objective coefficient range : [ 9.79621e-21, 2.3828e+07 ]
  Variable bound range        : [ 1, 11.6135 ]
  RHS coefficient range       : [ 2.0394e-06, 44.4772 ]
Objective value for Line heur k = 0: 3318910.9247331303
90
Actual reward of current solution: 45473069.7174865
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 2.00359e-13, 1 ]
  Objective coefficient range : [ 4.34401e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 13.8373 ]
  RHS coefficient range       : [ 2.2127e-06, 44.4772 ]
Objective value for Line heur k = 0: 4864515.18230515
90
Actual reward of current solution: 45618274.3641493
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 1.66998e-13, 1 ]
  Objective coefficient range : [ 6.51803e-20, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 16.0612 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5253314.488587217
90
Actual reward of current solution: 45647273.710266545
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.14641e-12, 1 ]
  Objective coefficient range : [ 3.42102e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 18.2851 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5198796.491817887
90
Actual reward of current solution: 45639766.8693643
Minimum Difference with past solutions:0.050000000000000114.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8389709 NZs
  Matrix coefficient range    : [ 6.38841e-13, 1 ]
  Objective coefficient range : [ 3.77655e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 20.5089 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5192756.887227577
90
Actual reward of current solution: 45649349.020993836
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.97112e-12, 1 ]
  Objective coefficient range : [ 2.51667e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 22.7328 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5220908.110074012
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 20.5089 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 22.7328 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 2.50702e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 20.5089 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 22.7328 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 2.50702e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 24.9566 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 27.1805 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 2.50702e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 29.4044 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 31.6282 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 33.8521 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 36.0759 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 38.2998 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 40.5237 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 2.50702e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 42.7475 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 7.3202e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 8.55155e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 8.55155e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 8.55155e-19, 2.3828e+07 ]
  Variable bound range        : [ 8.88178e-16, 44.4772 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
90
Actual reward of current solution: 45639837.39478298
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8383193 NZs
  Matrix coefficient range    : [ 1.36261e-13, 1 ]
  Objective coefficient range : [ 3.05957e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.83501e-06, 44.4772 ]
Objective value for Line heur k = 0: 5191680.735607287
90
Actual reward of current solution: 45648126.84788756
Minimum Difference with past solutions:0.05000000000000007.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.89877e-12, 1 ]
  Objective coefficient range : [ 8.55155e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.494191, 44.4772 ]
  RHS coefficient range       : [ 1.6727e-06, 44.4772 ]
Objective value for Line heur k = 0: 5222141.567852706
Traceback (most recent call last):
  File "run_linearization_heuristic_test_targetting_value.py", line 541, in <module>
    main()
  File "run_linearization_heuristic_test_targetting_value.py", line 145, in main
    run_lin_heur_and_save_yaml(delta, xi, icus, mtests, atests, n_days, region, test_freq, lockdown_freq, econ, init, eta, groups, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, scaling, money_scaling, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 184, in run_lin_heur_and_save_yaml
    dynModel = run_linearization_heuristic(simulation_params, experiment_params, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 325, in run_linearization_heuristic
    linearization.run_heuristic_linearization(dynModel, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, False, 0.1,optimizeLockdowns)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 1985, in run_heuristic_linearization
    Xhat_seq, uhat_seq = get_X_hat_sequence(dynModel, k, uhat_seq, use_bounce_var)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 463, in get_X_hat_sequence
    dynModel.take_time_step(m_tests, a_tests, alphas, BH, BICU)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 158, in take_time_step
    self.groups[n].take_time_step(m_tests[n], a_tests[n], self.beds, self.icus, B_H[n], B_ICU[n])
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 600, in take_time_step
    self.update_I(m_tests, a_tests)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 684, in update_I
    assert self.I[self.parent.t]+delta_I*self.dt >= 0, (f'Total infected is negative: {self.I[self.parent.t]+delta_I*self.dt}. \n Infected time t: {self.I[self.parent.t]}. \n Delta I: {delta_I}.\n Total N time t: {self.N[self.parent.t]}.\n Total E time t: {self.E[self.parent.t]}.\n M tests at time t: {m_tests}.\n Total m_tests: {m_tests * self.dt * self.I[self.parent.t]/self.N[self.parent.t]}.\n  Total new infected: {self.dt * self.parameters["sigma"]*self.E[self.parent.t]}.\n  Total recovered or going to H, ICU: {self.dt * self.parameters["mu"]*self.I[self.parent.t]}')
AssertionError: Total infected is negative: -0.00019259218452774562. 
 Infected time t: 0.019201049353830338. 
 Delta I: -0.019393641538358083.
 Total N time t: 52.218693609347326.
 Total E time t: 0.007044336246961165.
 M tests at time t: 44.47718926541818.
 Total m_tests: 0.01635446326164079.
  Total new infected: 0.0017610840617402913.
  Total recovered or going to H, ICU: 0.0048002623384575845
srun: error: sh02-01n47: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=16317417.0
