50
(0.5, 0.29, 47.85996140673168, (7, 14), 'fitted-scaled', 'econ-scaled', 'oct21-scaled', 0.1, 18599515.0, 0.05, 2, 'full_open')
The value of T is: 104
90
Total Reward at the start of the inner iterations: 42574286.50433313
Using license file /share/software/user/restricted/gurobi/9.0.3_py36/licenses/gurobi.lic
Set parameter TokenServer to value license4.stanford.edu
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746097 NZs
  Matrix coefficient range    : [ 1.07204e-13, 1 ]
  Objective coefficient range : [ 7.57573e-19, 2.3828e+07 ]
  Variable bound range        : [ 1, 7.71077 ]
  RHS coefficient range       : [ 8.59286e-08, 47.86 ]
Objective value for Line heur k = 0: -5419736.840283408
90
Actual reward of current solution: 44304616.864104375
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746113 NZs
  Matrix coefficient range    : [ 1.52489e-13, 1 ]
  Objective coefficient range : [ 6.19952e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 10.1038 ]
  RHS coefficient range       : [ 1.72359e-06, 47.86 ]
Objective value for Line heur k = 0: 1409061.0726245467
90
Actual reward of current solution: 45608209.8570157
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746110 NZs
  Matrix coefficient range    : [ 1.00321e-13, 1 ]
  Objective coefficient range : [ 2.6624e-19, 2.3828e+07 ]
  Variable bound range        : [ 1, 12.4968 ]
  RHS coefficient range       : [ 1.40987e-06, 47.86 ]
Objective value for Line heur k = 0: 6034277.351862013
90
Actual reward of current solution: 46071622.15861818
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 7.94073e-13, 1 ]
  Objective coefficient range : [ 9.13532e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 14.8898 ]
  RHS coefficient range       : [ 1.59816e-06, 47.86 ]
Objective value for Line heur k = 0: 7526931.93413935
90
Actual reward of current solution: 46204744.13449609
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 1.5949e-13, 1 ]
  Objective coefficient range : [ 2.61415e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 17.2828 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7852145.021777333
90
Actual reward of current solution: 46218431.085881464
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8405101 NZs
  Matrix coefficient range    : [ 2.31068e-12, 1 ]
  Objective coefficient range : [ 3.06064e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 19.6758 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7773500.637505838
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 8.64644e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 22.0688 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.0069092205
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.05000000000000017.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 8.8286e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 24.4618 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877915
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 7.27309e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 22.0688 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.0069092205
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.09016e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 24.4618 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877915
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 7.27309e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 22.0688 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909219
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 8.8286e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 24.4618 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877915
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 2.70113e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 22.0688 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909219
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.25792e-17, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 24.4618 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877917
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 7.27309e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 22.0688 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909218
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.09016e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 24.4618 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877918
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 26.8548 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909218
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.58805e-17, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 24.4618 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877917
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 26.8548 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909218
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 8.8286e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 29.2478 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877917
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 26.8548 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909218
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.50827e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 29.2478 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877918
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 31.6408 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.0069092205
90
Actual reward of current solution: 46218856.256054714
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.09016e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 34.0338 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877915
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 36.4267 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909222
90
Actual reward of current solution: 46218856.2560547
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.09016e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 34.0338 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877916
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 36.4267 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.00690922
90
Actual reward of current solution: 46218856.2560547
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 8.8286e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 34.0338 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877915
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 36.4267 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909221
90
Actual reward of current solution: 46218856.2560547
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 8.8286e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 38.8197 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877915
90
Actual reward of current solution: 46215735.9689554
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.36403e-12, 1 ]
  Objective coefficient range : [ 4.60954e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.265889, 41.2127 ]
  RHS coefficient range       : [ 1.06622e-06, 47.86 ]
Objective value for Line heur k = 0: 7790828.006909221
90
Actual reward of current solution: 46218856.2560547
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.4659e-13, 1 ]
  Objective coefficient range : [ 1.09016e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.531777, 43.6057 ]
  RHS coefficient range       : [ 1.07677e-06, 47.86 ]
Objective value for Line heur k = 0: 7802237.493877916
Traceback (most recent call last):
  File "run_linearization_heuristic_test_targetting_value.py", line 541, in <module>
    main()
  File "run_linearization_heuristic_test_targetting_value.py", line 145, in main
    run_lin_heur_and_save_yaml(delta, xi, icus, mtests, atests, n_days, region, test_freq, lockdown_freq, econ, init, eta, groups, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, scaling, money_scaling, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 184, in run_lin_heur_and_save_yaml
    dynModel = run_linearization_heuristic(simulation_params, experiment_params, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 325, in run_linearization_heuristic
    linearization.run_heuristic_linearization(dynModel, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, False, 0.1,optimizeLockdowns)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 1985, in run_heuristic_linearization
    Xhat_seq, uhat_seq = get_X_hat_sequence(dynModel, k, uhat_seq, use_bounce_var)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 463, in get_X_hat_sequence
    dynModel.take_time_step(m_tests, a_tests, alphas, BH, BICU)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 158, in take_time_step
    self.groups[n].take_time_step(m_tests[n], a_tests[n], self.beds, self.icus, B_H[n], B_ICU[n])
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 600, in take_time_step
    self.update_I(m_tests, a_tests)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 684, in update_I
    assert self.I[self.parent.t]+delta_I*self.dt >= 0, (f'Total infected is negative: {self.I[self.parent.t]+delta_I*self.dt}. \n Infected time t: {self.I[self.parent.t]}. \n Delta I: {delta_I}.\n Total N time t: {self.N[self.parent.t]}.\n Total E time t: {self.E[self.parent.t]}.\n M tests at time t: {m_tests}.\n Total m_tests: {m_tests * self.dt * self.I[self.parent.t]/self.N[self.parent.t]}.\n  Total new infected: {self.dt * self.parameters["sigma"]*self.E[self.parent.t]}.\n  Total recovered or going to H, ICU: {self.dt * self.parameters["mu"]*self.I[self.parent.t]}')
AssertionError: Total infected is negative: -0.00037243377499896965. 
 Infected time t: 0.023540108889014526. 
 Delta I: -0.023912542664013495.
 Total N time t: 52.295447980349394.
 Total E time t: 0.006404146944179642.
 M tests at time t: 43.605742615022194.
 Total m_tests: 0.019628552177804775.
  Total new infected: 0.0016010367360449105.
  Total recovered or going to H, ICU: 0.0058850272222536314
srun: error: sh02-01n41: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=16317426.0
