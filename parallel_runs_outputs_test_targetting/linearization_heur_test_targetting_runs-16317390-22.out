50
(0.5, 0.29, 51.242733548045166, (7, 14), 'fitted-scaled', 'econ-scaled', 'oct21-scaled', 0.1, 18599515.0, 0.05, 2, 'full_open')
The value of T is: 104
90
Total Reward at the start of the inner iterations: 43112072.0941871
Using license file /share/software/user/restricted/gurobi/9.0.3_py36/licenses/gurobi.lic
Set parameter TokenServer to value license4.stanford.edu
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746108 NZs
  Matrix coefficient range    : [ 1.02962e-13, 1 ]
  Objective coefficient range : [ 9.52264e-18, 2.3828e+07 ]
  Variable bound range        : [ 1, 8.25577 ]
  RHS coefficient range       : [ 1.01621e-06, 51.2427 ]
Objective value for Line heur k = 0: -3087867.3033087873
90
Actual reward of current solution: 44876772.84571236
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746113 NZs
  Matrix coefficient range    : [ 1.02338e-13, 1 ]
  Objective coefficient range : [ 4.01029e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 10.8179 ]
  RHS coefficient range       : [ 2.18397e-06, 51.2427 ]
Objective value for Line heur k = 0: 3941576.8530277084
90
Actual reward of current solution: 46177061.92018232
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746113 NZs
  Matrix coefficient range    : [ 1.01477e-13, 1 ]
  Objective coefficient range : [ 1.65519e-19, 2.3828e+07 ]
  Variable bound range        : [ 1, 13.38 ]
  RHS coefficient range       : [ 1.06725e-08, 51.2427 ]
Objective value for Line heur k = 0: 8582050.742547296
90
Actual reward of current solution: 46626059.74008324
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 7.47128e-13, 1 ]
  Objective coefficient range : [ 3.04489e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 15.9422 ]
  RHS coefficient range       : [ 3.34438e-07, 51.2427 ]
Objective value for Line heur k = 0: 10009133.778646475
90
Actual reward of current solution: 46746650.60832353
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 1.51664e-13, 1 ]
  Objective coefficient range : [ 7.87912e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 18.5043 ]
  RHS coefficient range       : [ 2.78543e-07, 51.2427 ]
Objective value for Line heur k = 0: 10271347.131150771
90
Actual reward of current solution: 46744369.24269809
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8405101 NZs
  Matrix coefficient range    : [ 2.11163e-12, 1 ]
  Objective coefficient range : [ 7.18246e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 21.0665 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10206653.673413223
90
Actual reward of current solution: 46754004.93583675
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29017e-12, 1 ]
  Objective coefficient range : [ 9.72475e-20, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 23.6286 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10278151.234885318
90
Actual reward of current solution: 46742365.980942555
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8413917 NZs
  Matrix coefficient range    : [ 2.12031e-12, 1 ]
  Objective coefficient range : [ 3.53161e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 26.1907 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10212826.954238653
90
Actual reward of current solution: 46753666.238915116
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28573e-12, 1 ]
  Objective coefficient range : [ 2.92265e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 23.6286 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10301200.863545604
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 1.24129e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 26.1907 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.63957247
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000006.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 7.87754e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 28.7529 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259967
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.050000000000000024.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 4.65458e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 26.1907 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572464
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000006.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 6.3038e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 28.7529 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259967
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 3.07295e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 26.1907 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572468
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 1.29765e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 28.7529 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259965
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 7.51996e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 26.1907 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572468
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 1.46942e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 28.7529 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259967
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 2.09994e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 26.1907 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572468
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 1.07524e-17, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 28.7529 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259968
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 1.31237e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 31.315 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572466
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 4.40594e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 33.8771 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259967
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 3.01881e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 31.315 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572466
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 8.55111e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 33.8771 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259965
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 1.25106e-17, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 31.315 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572466
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 1.07442e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 33.8771 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259968
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05000000000000006.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 3.01881e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 36.4393 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572466
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 1.07442e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 39.0014 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259968
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 8.85633e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 41.5636 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572466
90
Actual reward of current solution: 46752471.58748146
Minimum Difference with past solutions:0.05000000000000013.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.28595e-12, 1 ]
  Objective coefficient range : [ 9.8155e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.284682, 44.1257 ]
  RHS coefficient range       : [ 4.38048e-07, 51.2427 ]
Objective value for Line heur k = 0: 10312321.983259968
90
Actual reward of current solution: 46746538.14367503
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 2.11889e-12, 1 ]
  Objective coefficient range : [ 8.90481e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.569364, 46.6878 ]
  RHS coefficient range       : [ 5.0919e-07, 51.2427 ]
Objective value for Line heur k = 0: 10202581.639572464
Traceback (most recent call last):
  File "run_linearization_heuristic_test_targetting_value.py", line 541, in <module>
    main()
  File "run_linearization_heuristic_test_targetting_value.py", line 145, in main
    run_lin_heur_and_save_yaml(delta, xi, icus, mtests, atests, n_days, region, test_freq, lockdown_freq, econ, init, eta, groups, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, scaling, money_scaling, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 184, in run_lin_heur_and_save_yaml
    dynModel = run_linearization_heuristic(simulation_params, experiment_params, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 325, in run_linearization_heuristic
    linearization.run_heuristic_linearization(dynModel, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, False, 0.1,optimizeLockdowns)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 1985, in run_heuristic_linearization
    Xhat_seq, uhat_seq = get_X_hat_sequence(dynModel, k, uhat_seq, use_bounce_var)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 463, in get_X_hat_sequence
    dynModel.take_time_step(m_tests, a_tests, alphas, BH, BICU)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 158, in take_time_step
    self.groups[n].take_time_step(m_tests[n], a_tests[n], self.beds, self.icus, B_H[n], B_ICU[n])
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 600, in take_time_step
    self.update_I(m_tests, a_tests)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 684, in update_I
    assert self.I[self.parent.t]+delta_I*self.dt >= 0, (f'Total infected is negative: {self.I[self.parent.t]+delta_I*self.dt}. \n Infected time t: {self.I[self.parent.t]}. \n Delta I: {delta_I}.\n Total N time t: {self.N[self.parent.t]}.\n Total E time t: {self.E[self.parent.t]}.\n M tests at time t: {m_tests}.\n Total m_tests: {m_tests * self.dt * self.I[self.parent.t]/self.N[self.parent.t]}.\n  Total new infected: {self.dt * self.parameters["sigma"]*self.E[self.parent.t]}.\n  Total recovered or going to H, ICU: {self.dt * self.parameters["mu"]*self.I[self.parent.t]}')
AssertionError: Total infected is negative: -0.000256235963379205. 
 Infected time t: 0.011932515509996215. 
 Delta I: -0.01218875147337542.
 Total N time t: 52.34273259896603.
 Total E time t: 0.005750998247673299.
 M tests at time t: 46.687823899330034.
 Total m_tests: 0.01064337215779469.
  Total new infected: 0.0014377495619183247.
  Total recovered or going to H, ICU: 0.0029831288774990537
srun: error: sh02-01n37: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=16317435.0
