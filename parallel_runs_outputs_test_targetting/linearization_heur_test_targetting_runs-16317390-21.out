50
(0.5, 0.29, 50.86686997678812, (7, 14), 'fitted-scaled', 'econ-scaled', 'oct21-scaled', 0.1, 18599515.0, 0.05, 2, 'full_open')
The value of T is: 104
90
Total Reward at the start of the inner iterations: 43053483.84257738
Using license file /share/software/user/restricted/gurobi/9.0.3_py36/licenses/gurobi.lic
Set parameter TokenServer to value license4.stanford.edu
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746112 NZs
  Matrix coefficient range    : [ 1.00466e-13, 1 ]
  Objective coefficient range : [ 1.16545e-17, 2.3828e+07 ]
  Variable bound range        : [ 1, 8.19522 ]
  RHS coefficient range       : [ 9.71064e-07, 50.8669 ]
Objective value for Line heur k = 0: -3342860.96339785
90
Actual reward of current solution: 44814813.94633183
Minimum Difference with past solutions:0.05000000000000001.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746112 NZs
  Matrix coefficient range    : [ 1.27842e-13, 1 ]
  Objective coefficient range : [ 2.26537e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 10.7386 ]
  RHS coefficient range       : [ 2.13337e-06, 50.8669 ]
Objective value for Line heur k = 0: 3666550.622029662
90
Actual reward of current solution: 46115832.627012126
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8746113 NZs
  Matrix coefficient range    : [ 1.00741e-13, 1 ]
  Objective coefficient range : [ 1.88716e-19, 2.3828e+07 ]
  Variable bound range        : [ 1, 13.2819 ]
  RHS coefficient range       : [ 1.63746e-07, 50.8669 ]
Objective value for Line heur k = 0: 8307211.488444616
90
Actual reward of current solution: 46566535.82196099
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 7.5236e-13, 1 ]
  Objective coefficient range : [ 3.95399e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 15.8252 ]
  RHS coefficient range       : [ 4.82498e-07, 50.8669 ]
Objective value for Line heur k = 0: 9742112.765086114
90
Actual reward of current solution: 46688531.17983352
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8463925 NZs
  Matrix coefficient range    : [ 1.52542e-13, 1 ]
  Objective coefficient range : [ 2.31637e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 18.3686 ]
  RHS coefficient range       : [ 1.31805e-07, 50.8669 ]
Objective value for Line heur k = 0: 10011067.557085937
90
Actual reward of current solution: 46687191.50468308
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8405101 NZs
  Matrix coefficient range    : [ 2.13247e-12, 1 ]
  Objective coefficient range : [ 4.35813e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 20.9119 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9949150.509482004
90
Actual reward of current solution: 46696200.15304313
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.2976e-12, 1 ]
  Objective coefficient range : [ 4.55357e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 23.4553 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10019354.309933318
90
Actual reward of current solution: 46688222.63369798
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 2.14846e-12, 1 ]
  Objective coefficient range : [ 6.31055e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 25.9986 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9947709.895587344
90
Actual reward of current solution: 46694660.434781104
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29554e-12, 1 ]
  Objective coefficient range : [ 1.86732e-20, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 23.4553 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10040207.68508257
90
Actual reward of current solution: 46685931.37447958
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8407400 NZs
  Matrix coefficient range    : [ 2.13554e-12, 1 ]
  Objective coefficient range : [ 8.44045e-19, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 25.9986 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9951045.478433259
90
Actual reward of current solution: 46694727.170296915
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29377e-12, 1 ]
  Objective coefficient range : [ 6.18599e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 28.542 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10043154.983011883
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.050000000000000065.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 5.07437e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 31.0853 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 2.10712e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 33.6287 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.15853814
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.050000000000000065.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 5.07437e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 31.0853 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.94186214
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 9.04185e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 33.6287 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.158538142
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.05000000000000003.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 4.21279e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 31.0853 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05000000000000001.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 1.20656e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 33.6287 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.158538142
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.050000000000000065.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 4.53336e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 36.172 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 2.10712e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.282594, 38.7153 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.158538142
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 5.07437e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 36.172 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 2.10712e-18, 2.3828e+07 ]
  Variable bound range        : [ 8.88178e-16, 38.7153 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.158538142
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.050000000000000065.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 9.93001e-33, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 36.172 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 2.10712e-18, 2.3828e+07 ]
  Variable bound range        : [ 8.88178e-16, 38.7153 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.158538142
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 5.07437e-18, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 41.2587 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
90
Actual reward of current solution: 46694331.34089787
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8403676 NZs
  Matrix coefficient range    : [ 1.29151e-12, 1 ]
  Objective coefficient range : [ 2.10712e-18, 2.3828e+07 ]
  Variable bound range        : [ 8.88178e-16, 43.802 ]
  RHS coefficient range       : [ 2.89452e-07, 50.8669 ]
Objective value for Line heur k = 0: 10050768.158538142
90
Actual reward of current solution: 46689772.20910652
Minimum Difference with past solutions:0.05.
Gurobi status: 2

Statistics for model Linearization Heuristic :
  Linear constraint matrix    : 18108 Constrs, 9360 Vars, 8397159 NZs
  Matrix coefficient range    : [ 1.40637e-13, 1 ]
  Objective coefficient range : [ 2.47818e-33, 2.3828e+07 ]
  Variable bound range        : [ 0.565187, 46.3454 ]
  RHS coefficient range       : [ 5.70899e-07, 50.8669 ]
Objective value for Line heur k = 0: 9942006.941862142
Traceback (most recent call last):
  File "run_linearization_heuristic_test_targetting_value.py", line 541, in <module>
    main()
  File "run_linearization_heuristic_test_targetting_value.py", line 145, in main
    run_lin_heur_and_save_yaml(delta, xi, icus, mtests, atests, n_days, region, test_freq, lockdown_freq, econ, init, eta, groups, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, scaling, money_scaling, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 184, in run_lin_heur_and_save_yaml
    dynModel = run_linearization_heuristic(simulation_params, experiment_params, start_day, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, optimizeLockdowns)
  File "run_linearization_heuristic_test_targetting_value.py", line 325, in run_linearization_heuristic
    linearization.run_heuristic_linearization(dynModel, trust_region_radius, max_inner_iterations_mult, initial_uhat, optimize_bouncing, targetActivities, targetGroups, targetTests, False, 0.1,optimizeLockdowns)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 1985, in run_heuristic_linearization
    Xhat_seq, uhat_seq = get_X_hat_sequence(dynModel, k, uhat_seq, use_bounce_var)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/heuristics/linearization.py", line 463, in get_X_hat_sequence
    dynModel.take_time_step(m_tests, a_tests, alphas, BH, BICU)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 158, in take_time_step
    self.groups[n].take_time_step(m_tests[n], a_tests[n], self.beds, self.icus, B_H[n], B_ICU[n])
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 600, in take_time_step
    self.update_I(m_tests, a_tests)
  File "/home/groups/daniancu/covid-optimization/covid-optimization/group.py", line 684, in update_I
    assert self.I[self.parent.t]+delta_I*self.dt >= 0, (f'Total infected is negative: {self.I[self.parent.t]+delta_I*self.dt}. \n Infected time t: {self.I[self.parent.t]}. \n Delta I: {delta_I}.\n Total N time t: {self.N[self.parent.t]}.\n Total E time t: {self.E[self.parent.t]}.\n M tests at time t: {m_tests}.\n Total m_tests: {m_tests * self.dt * self.I[self.parent.t]/self.N[self.parent.t]}.\n  Total new infected: {self.dt * self.parameters["sigma"]*self.E[self.parent.t]}.\n  Total recovered or going to H, ICU: {self.dt * self.parameters["mu"]*self.I[self.parent.t]}')
AssertionError: Total infected is negative: -0.00031072561737766936. 
 Infected time t: 0.012916672567023177. 
 Delta I: -0.013227398184400847.
 Total N time t: 52.28952065756974.
 Total E time t: 0.005800421763102392.
 M tests at time t: 46.34537042329584.
 Total m_tests: 0.011448335483420651.
  Total new infected: 0.001450105440775598.
  Total recovered or going to H, ICU: 0.0032291681417557943
srun: error: sh02-01n37: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=16317434.0
